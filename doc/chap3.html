<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>GAP (NConvex) - Chapter 3: Fans</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="GAPDoc2HTML" />
<link rel="stylesheet" type="text/css" href="manual.css" />
<script src="manual.js" type="text/javascript"></script>
<script type="text/javascript">overwriteStyle();</script>
</head>
<body class="chap3"  onload="jscontent()">


<div class="chlinktop"><span class="chlink1">Goto Chapter: </span><a href="chap0.html">Top</a>  <a href="chap1.html">1</a>  <a href="chap2.html">2</a>  <a href="chap3.html">3</a>  <a href="chap4.html">4</a>  <a href="chap5.html">5</a>  <a href="chapInd.html">Ind</a>  </div>

<div class="chlinkprevnexttop">&nbsp;<a href="chap0.html">[Top of Book]</a>&nbsp;  <a href="chap0.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap2.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap4.html">[Next Chapter]</a>&nbsp;  </div>

<p id="mathjaxlink" class="pcenter"><a href="chap3_mj.html">[MathJax on]</a></p>
<p><a id="X7EB0337A86DDD2F1" name="X7EB0337A86DDD2F1"></a></p>
<div class="ChapSects"><a href="chap3.html#X7EB0337A86DDD2F1">3 <span class="Heading">Fans</span></a>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap3.html#X86EC0F0A78ECBC10">3.1 <span class="Heading">Constructors</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3.html#X7F5B09727CD79D17">3.1-1 Fan</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3.html#X7FB87B4983087091">3.1-2 Fan</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3.html#X7A1FD0BD845E3588">3.1-3 Fan</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3.html#X7D5DE7F08555C8E8">3.1-4 FansFromTriangulation</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3.html#X853CC6BB854AA139">3.1-5 FanFromTriangulation</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap3.html#X86BC038782EFD451">3.2 <span class="Heading">Operations on fans</span></a>
</span>
</div>
</div>

<h3>3 <span class="Heading">Fans</span></h3>

<p><a id="X86EC0F0A78ECBC10" name="X86EC0F0A78ECBC10"></a></p>

<h4>3.1 <span class="Heading">Constructors</span></h4>

<p><a id="X7F5B09727CD79D17" name="X7F5B09727CD79D17"></a></p>

<h5>3.1-1 Fan</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Fan</code>( <var class="Arg">F</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: a fan object</p>

<p>If the input <var class="Arg">F</var> is fan then return <var class="Arg">F</var>.</p>

<p><a id="X7FB87B4983087091" name="X7FB87B4983087091"></a></p>

<h5>3.1-2 Fan</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Fan</code>( <var class="Arg">C</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: a fan object</p>

<p>The input is a list of list <span class="Math">C</span>. the output is the fan defined by the cones <span class="Math">\{\mathrm{Cone}_i(C_i )\}_{C_i\in C}</span>.</p>

<p><a id="X7A1FD0BD845E3588" name="X7A1FD0BD845E3588"></a></p>

<h5>3.1-3 Fan</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Fan</code>( <var class="Arg">R</var>, <var class="Arg">C</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: a fan object</p>

<p>The input is two lists, <span class="Math">R</span> that indicates the rays and <span class="Math">C</span> that indicates the cones. The output is the fan defined by the cones <span class="Math">\{\mathrm{Cone}_i(\{ R_j, j\in C_i\} )\}_{C_i\in C}</span>.</p>

<p>Below we define the same fan in two different ways:</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F1 := Fan( [ [ [ 2, 1 ], [ 1, 2 ] ], [ [ 2, 1 ], [ 1, -1 ] ],</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">             [ [ -3, 1 ], [ -1, -3 ] ] ] );</span>
&lt;A fan in |R^2&gt;             
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F2 := Fan( [ [ 2, 1 ], [ 1, 2 ], [ -3, 1 ], [ -1, -3 ], [ 1, -1 ] ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">        [ [ 1, 2 ], [ 1, 5 ], [ 3, 4 ] ] );</span>
&lt;A fan in |R^2&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rays1 := RayGenerators( F1 );</span>
[ [ -3, 1 ], [ -1, -3 ], [ 1, -1 ], [ 1, 2 ], [ 2, 1 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rays2 := RayGenerators( F2 );</span>
[ [ -3, 1 ], [ -1, -3 ], [ 1, -1 ], [ 1, 2 ], [ 2, 1 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RaysInMaximalCones( F1 );</span>
[ [ 0, 0, 0, 1, 1 ], [ 0, 0, 1, 0, 1 ], [ 1, 1, 0, 0, 0 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RaysInMaximalCones( F2 );</span>
[ [ 0, 0, 0, 1, 1 ], [ 0, 0, 1, 0, 1 ], [ 1, 1, 0, 0, 0 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RaysInAllCones( F1 );</span>
[ [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 1, 1 ], [ 0, 0, 0, 0, 1 ], 
 [ 0, 0, 0, 1, 0 ], [ 0, 0, 1, 0, 1 ], [ 0, 0, 1, 0, 0 ], 
 [ 1, 1, 0, 0, 0 ], [ 0, 1, 0, 0, 0 ], [ 1, 0, 0, 0, 0 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FVector( F1 );</span>
[ 5, 3 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsComplete( F1 );</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsSimplicial( F1 );</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsNormalFan( F1 );</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsRegularFan( F1 );</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">P1 := Polytope( [ [ 1 ], [ -1 ] ] );</span>
&lt;A polytope in |R^1&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">P1 := NormalFan( P1 );</span>
&lt;A complete fan in |R^1&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RayGenerators( P1 );</span>
[ [ -1 ], [ 1 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">P3 := P1 * P1 * P1;</span>
&lt;A fan in |R^3&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RayGenerators( P3 );</span>
[ [ -1, 0, 0 ], [ 0, -1, 0 ], [ 0, 0, -1 ], [ 0, 0, 1 ], [ 0, 1, 0 ], 
  [ 1, 0, 0 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RaysInMaximalCones( P3 );</span>
[ [ 0, 0, 0, 1, 1, 1 ], [ 0, 0, 1, 0, 1, 1 ], [ 0, 1, 0, 1, 0, 1 ], 
  [ 0, 1, 1, 0, 0, 1 ], [ 1, 0, 0, 1, 1, 0 ], [ 1, 0, 1, 0, 1, 0 ], 
  [ 1, 1, 0, 1, 0, 0 ], [ 1, 1, 1, 0, 0, 0 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RaysInAllCones( P3 );</span>
[ [ 0, 0, 0, 0, 0, 0 ], [ 0, 0, 0, 1, 1, 1 ], [ 0, 0, 0, 1, 1, 0 ], 
  [ 0, 0, 0, 1, 0, 0 ], [ 0, 0, 0, 0, 1, 0 ], [ 0, 0, 0, 1, 0, 1 ], 
  [ 0, 0, 0, 0, 0, 1 ], [ 0, 0, 0, 0, 1, 1 ], [ 0, 0, 1, 0, 1, 1 ], 
  [ 0, 0, 1, 0, 1, 0 ], [ 0, 0, 1, 0, 0, 0 ], [ 0, 0, 1, 0, 0, 1 ], 
  [ 0, 1, 0, 1, 0, 1 ], [ 0, 1, 0, 1, 0, 0 ], [ 0, 1, 0, 0, 0, 0 ], 
  [ 0, 1, 0, 0, 0, 1 ], [ 0, 1, 1, 0, 0, 1 ], [ 0, 1, 1, 0, 0, 0 ], 
  [ 1, 0, 0, 1, 1, 0 ], [ 1, 0, 0, 1, 0, 0 ], [ 1, 0, 0, 0, 0, 0 ], 
  [ 1, 0, 0, 0, 1, 0 ], [ 1, 0, 1, 0, 1, 0 ], [ 1, 0, 1, 0, 0, 0 ], 
  [ 1, 1, 0, 1, 0, 0 ], [ 1, 1, 0, 0, 0, 0 ], [ 1, 1, 1, 0, 0, 0 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsNormalFan( P3 );</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Dimension( P3 );</span>
3
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">PrimitiveCollections( P3 );</span>
[ [ 4, 3 ], [ 5, 2 ], [ 6, 1 ] ]
</pre></div>

<p>The following is an example for a fan that is complete but not normal.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rays := [ [ 1, 0, 0 ], [ -1, 0, 0 ], [ 0, 1, 0 ], [ 0, -1, 0 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 0, 0, 1 ], [ 0, 0, -1 ], [ 2, 1, 1 ], [ 1, 2, 1 ], [ 1, 1, 2 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 1, 1, 1 ] ];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">cones := [ [ 1, 3, 6 ], [ 1, 4, 6 ], [ 1, 4, 5 ], [ 2, 3, 6 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 2, 4, 6 ], [ 2, 3, 5 ], [ 2, 4, 5 ], [ 1, 5, 9 ], [ 3, 5, 8 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 1, 3, 7 ], [ 1, 7, 9 ], [ 5, 8, 9 ], [ 3, 7, 8 ], [ 7, 9, 10 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 8, 9, 10 ], [ 7, 8, 10 ] ];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F := Fan( rays, cones );</span>
&lt;A fan in |R^3&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsComplete( F );</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsNormalFan( F );</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">PrimitiveCollections( F );</span>
[ [ 7, 1 ], [ 7, 2 ], [ 7, 3 ], [ 7, 4 ], [ 7, 5 ], [ 7, 6 ], 
  [ 9, 1 ], [ 9, 2 ], [ 9, 3 ], [ 9, 6 ], [ 10, 1 ], [ 10, 2 ], 
  [ 10, 3 ], [ 10, 4 ], [ 8, 1 ], [ 8, 2 ], [ 8, 3 ], [ 8, 5 ], 
  [ 6, 1 ], [ 5, 2 ], [ 4, 3 ], [ 9, 10, 8 ], [ 5, 6, 4 ] ]
</pre></div>

<p><a id="X7D5DE7F08555C8E8" name="X7D5DE7F08555C8E8"></a></p>

<h5>3.1-4 FansFromTriangulation</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; FansFromTriangulation</code>( <var class="Arg">R</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: a list of fans</p>

<p>The input is a list of ray generators <span class="Math">R</span>. Provided that the package TopcomInterface is available, this function computes the list of all fine and regular triangulations of these ray generators. It then returns the list of the associated fans of these triangulations.</p>

<p><a id="X853CC6BB854AA139" name="X853CC6BB854AA139"></a></p>

<h5>3.1-5 FanFromTriangulation</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; FanFromTriangulation</code>( <var class="Arg">R</var> )</td><td class="tdright">(&nbsp;operation&nbsp;)</td></tr></table></div>
<p>Returns: a fan</p>

<p>The input is a list of ray generators <span class="Math">R</span>. Provided that the package TopcomInterface is available, this function computes a fine and regular triangulation of these ray generators and returns the associated fan.</p>

<p>The above methods construct fans from so-called triangulations. For a given list <span class="Math">R</span> of lists of integers, a triangulation is a fan whose ray generators are contained in the given list <span class="Math">R</span>.</p>

<p>A regular triangulation is such a fan, for which all cones are strictly convex. It is called a fine triangulation, iff all elements of <span class="Math">R</span> are ray generators of this fan.</p>

<p>Above we present two method which make this approach available in NConvex via the package TopcomInterface, which in turn rests on the program Topcom. Consequently, these methods are only available if the package TopcomInterface is available. They compute either all of the fine and regular triangulations or merely just a single such triangulation.</p>

<p>As an example inspired from toric geometry, let us use the ray generators of the fan of the resolved conifold (i.e. the total space of the bundle ). This space is known to allow for two different triangulations. The code below reproduces this feature.</p>


<div class="example"><pre>
gap&gt; rays := [ [ 1, 0, 1 ], [ 1, 1, 0 ], [ 0, 0, -1 ], [ 0, -1, 0 ] ];;
gap&gt; all_triangulations := FansFromTriangulation( rays );
[ &lt;A fan in |R^3&gt;, &lt;A fan in |R^3&gt; ]
gap&gt; one_triangulation := FanFromTriangulation( rays );
&lt;A fan in |R^3&gt;
</pre></div>

<p><a id="X86BC038782EFD451" name="X86BC038782EFD451"></a></p>

<h4>3.2 <span class="Heading">Operations on fans</span></h4>

<p>A star subdivision is a certain way of extending a fan. In toric geometry, its applications include blowups of varieties. The following examples correspond to blowups of the origin of the 2-dimensional and 3-dimensional affine space, respectively.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rays := [ [ 1,0 ], [ 0,1 ] ];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">max_cones := [ [1,2] ];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">fan_affine2 := Fan( rays, max_cones );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">fan_blowup_affine2 := StarSubdivisionOfIthMaximalCone( fan_affine2, 1 );</span>
&lt;A fan in |R^2&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Length( RaysInMaximalCones( fan_blowup_affine2 ) );</span>
2
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">rays := [ [ 1,0,0 ], [ 0,1,0 ], [0,0,1] ];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">max_cones := [ [1,2,3] ];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">fan_affine3 := Fan( rays, max_cones );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">fan_blowup_affine3 := StarSubdivisionOfIthMaximalCone( fan_affine3, 1 );</span>
&lt;A fan in |R^3&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Length( RaysInMaximalCones( fan_blowup_affine3 ) );</span>
3
</pre></div>


<div class="chlinkprevnextbot">&nbsp;<a href="chap0.html">[Top of Book]</a>&nbsp;  <a href="chap0.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap2.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap4.html">[Next Chapter]</a>&nbsp;  </div>


<div class="chlinkbot"><span class="chlink1">Goto Chapter: </span><a href="chap0.html">Top</a>  <a href="chap1.html">1</a>  <a href="chap2.html">2</a>  <a href="chap3.html">3</a>  <a href="chap4.html">4</a>  <a href="chap5.html">5</a>  <a href="chapInd.html">Ind</a>  </div>

<hr />
<p class="foot">generated by <a href="http://www.math.rwth-aachen.de/~Frank.Luebeck/GAPDoc">GAPDoc2HTML</a></p>
</body>
</html>
